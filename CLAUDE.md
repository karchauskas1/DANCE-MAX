# CLAUDE.md ‚Äî Dance Max Project

## –ü—Ä–æ–µ–∫—Ç
Telegram-–±–æ—Ç + –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Mini App) –¥–ª—è —Å—Ç—É–¥–∏–∏ —Ç–∞–Ω—Ü–µ–≤ Dance Max.
–ï–¥–∏–Ω—ã–π —Ü–∏—Ñ—Ä–æ–≤–æ–π —Ö–∞–±: –æ–ø–ª–∞—Ç–∞, –∑–∞–ø–∏—Å—å, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –∫–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—É–¥–∏–∏.

---

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –î–ò–ó–ê–ô–ù

### –ê–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω—ã (–ó–ê–ü–†–ï–©–ï–ù–û)
–î–∏–∑–∞–π–Ω **–ù–ï –î–û–õ–ñ–ï–ù** –±—ã—Ç—å:
- –¢–∏–ø–æ–≤—ã–º AI-—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º (–±–ª–∞–Ω–∫–æ–≤—ã–π, —à–∞–±–ª–æ–Ω–Ω—ã–π)
- –û—á–µ–≤–∏–¥–Ω—ã–º (–ø–µ—Ä–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ –≥–æ–ª–æ–≤—É)
- –ü–æ—Ö–æ–∂–∏–º –Ω–∞ Bootstrap/Material UI –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- –°–∫—É—á–Ω—ã–º –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º
- –° –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –æ—Ç—Å—Ç—É–ø–∞–º–∏ –∏ —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è–º–∏

### –ü—Ä–∞–≤–∏–ª–æ "–î–µ—Å—è—Ç–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è"
```
–†–µ—à–µ–Ω–∏–µ 1 ‚Äî –æ—Ç–±—Ä–æ—Å–∏—Ç—å
–†–µ—à–µ–Ω–∏–µ 2 ‚Äî –æ—Ç–±—Ä–æ—Å–∏—Ç—å
–†–µ—à–µ–Ω–∏–µ 3 ‚Äî –æ—Ç–±—Ä–æ—Å–∏—Ç—å
...
–†–µ—à–µ–Ω–∏–µ 10 ‚Äî –≤–æ—Ç —ç—Ç–æ —É–∂–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –∫–æ–ø–∞—Ç—å –≥–ª—É–±–∂–µ
```

–ö–∞–∂–¥—ã–π UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –∏—Ç–µ—Ä–∞—Ü–∏–∏. –ü–µ—Ä–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç ‚Äî —ç—Ç–æ –æ—Ç–ø—Ä–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞, –Ω–µ —Ñ–∏–Ω–∞–ª.

### –ò–∫–æ–Ω–∫–∏: –ù–ï EMOJI
**–ó–ê–ü–†–ï–©–ï–ù–û:** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å emoji (üî•üíÉüìÖüë§)

**–ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨:**
- Lucide Icons (–ª–∏–Ω–µ–π–Ω—ã–µ, –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É–µ–º—ã–µ)
- Phosphor Icons
- –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ SVG-–∏–∫–æ–Ω–∫–∏
- –°–∏–º–≤–æ–ª—ã –∏ –ª–æ–≥–æ—Ç–∏–ø—ã

```tsx
// ‚ùå –ü–õ–û–•–û
<span>üî• –ë–∞—á–∞—Ç–∞</span>

// ‚úÖ –•–û–†–û–®–û
import { Flame } from 'lucide-react';
<Flame className="w-5 h-5 text-primary" />
```

---

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ê–ù–ò–ú–ê–¶–ò–ò

### –ü—Ä–∏–Ω—Ü–∏–ø: –í—Å—ë –∂–∏–≤–æ–µ, –≤—Å—ë –ø–ª–∞–≤–Ω–æ–µ
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ **–æ—â—É—â–∞—Ç—å—Å—è** –∂–∏–≤—ã–º. –ö–∞–∂–¥–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ ‚Äî —Å –æ—Ç–∫–ª–∏–∫–æ–º. –ù–∏–∫–∞–∫–∏—Ö —Ä–µ–∑–∫–∏—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤.

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏

#### 1. –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
```tsx
// Framer Motion page transitions
const pageVariants = {
  initial: { opacity: 0, x: 20 },
  animate: { opacity: 1, x: 0 },
  exit: { opacity: 0, x: -20 }
};

<motion.div
  variants={pageVariants}
  initial="initial"
  animate="animate"
  exit="exit"
  transition={{ duration: 0.3, ease: [0.4, 0, 0.2, 1] }}
>
  {children}
</motion.div>
```

#### 2. –ü–æ—è–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (stagger)
```tsx
// –ö–∞—Ä—Ç–æ—á–∫–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø–æ –æ—á–µ—Ä–µ–¥–∏
const containerVariants = {
  animate: {
    transition: { staggerChildren: 0.08 }
  }
};

const itemVariants = {
  initial: { opacity: 0, y: 20 },
  animate: { opacity: 1, y: 0 }
};

<motion.div variants={containerVariants} initial="initial" animate="animate">
  {lessons.map(lesson => (
    <motion.div key={lesson.id} variants={itemVariants}>
      <LessonCard lesson={lesson} />
    </motion.div>
  ))}
</motion.div>
```

#### 3. –ö–Ω–æ–ø–∫–∏ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
```css
/* Button.module.css */
.button {
  transition: all var(--transition-normal);
}

.button:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.button:active {
  transform: translateY(0) scale(0.98);
}
```

#### 4. –ö–∞—Ä—Ç–æ—á–∫–∏
```css
/* Card.module.css */
.card {
  transition: all var(--transition-normal);
}

.card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
}

.card:active {
  transform: translateY(-2px);
}
```

#### 5. –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
```tsx
// Backdrop fade + modal scale
const backdropVariants = {
  initial: { opacity: 0 },
  animate: { opacity: 1 },
  exit: { opacity: 0 }
};

const modalVariants = {
  initial: { opacity: 0, scale: 0.95, y: 20 },
  animate: { 
    opacity: 1, 
    scale: 1, 
    y: 0,
    transition: { type: "spring", damping: 25, stiffness: 300 }
  },
  exit: { opacity: 0, scale: 0.95, y: 20 }
};
```

#### 6. Skeleton loading
```css
/* Skeleton.module.css */
.skeleton {
  background: linear-gradient(
    90deg,
    var(--color-gray-100) 25%,
    var(--color-gray-200) 50%,
    var(--color-gray-100) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  border-radius: var(--radius-md);
}

@keyframes shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}
```

#### 7. Pull-to-refresh
```tsx
// –ü–ª–∞–≤–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
const pullProgress = useSpring(0, { stiffness: 400, damping: 30 });
```

#### 8. Tab –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
```css
/* Tabs.module.css */
.indicator {
  position: absolute;
  bottom: 0;
  height: 3px;
  background: var(--color-primary);
  border-radius: 3px;
  transition: all var(--transition-normal);
}
```

#### 9. –°—á—ë—Ç—á–∏–∫–∏ –∏ —á–∏—Å–ª–∞
```tsx
// –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—á—ë—Ç—á–∏–∫ –±–∞–ª–∞–Ω—Å–∞
import { useSpring, animated } from '@react-spring/web';

const AnimatedNumber = ({ value }) => {
  const { number } = useSpring({
    number: value,
    from: { number: 0 },
    config: { tension: 300, friction: 20 }
  });
  
  return <animated.span>{number.to(n => n.toFixed(0))}</animated.span>;
};
```

#### 10. –£—Å–ø–µ—à–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
```tsx
// –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–ø–∏—Å–∏ ‚Äî confetti –∏–ª–∏ checkmark –∞–Ω–∏–º–∞—Ü–∏—è
const successVariants = {
  initial: { scale: 0, rotate: -180 },
  animate: { 
    scale: 1, 
    rotate: 0,
    transition: { type: "spring", damping: 15 }
  }
};
```

### Timing —Ñ—É–Ω–∫—Ü–∏–∏
```css
:root {
  /* –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ */
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  
  /* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ */
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
}
```

### –ü—Ä–∞–≤–∏–ª–∞ –∞–Ω–∏–º–∞—Ü–∏–π
1. **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 150-400ms (–Ω–µ –±–æ–ª—å—à–µ, –∏–Ω–∞—á–µ —Ç–æ—Ä–º–æ–∑–∏—Ç UX)
2. **Easing:** –í—Å–µ–≥–¥–∞ ease-out –¥–ª—è –ø–æ—è–≤–ª–µ–Ω–∏—è, ease-in –¥–ª—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è
3. **Transform:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å transform –∏ opacity (GPU-—É—Å–∫–æ—Ä–µ–Ω–∏–µ)
4. **Reduce motion:** –£–≤–∞–∂–∞—Ç—å `prefers-reduced-motion`

```css
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
```

### –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞: Framer Motion
```tsx
import { motion, AnimatePresence } from 'framer-motion';

// –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–±–æ—Ä–∞—á–∏–≤–∞–µ–º –≤ AnimatePresence
<AnimatePresence mode="wait">
  <Routes location={location} key={location.pathname}>
    ...
  </Routes>
</AnimatePresence>
```

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –¥–∏–∑–∞–π–Ω–∞
1. **–•–∞—Ä–∞–∫—Ç–µ—Ä** ‚Äî –¥–∏–∑–∞–π–Ω –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —ç–Ω–µ—Ä–≥–∏—é —Ç–∞–Ω—Ü–∞, —Å—Ç—Ä–∞—Å—Ç—å, –¥–≤–∏–∂–µ–Ω–∏–µ
2. **–î–µ—Ç–∞–ª–∏** ‚Äî –º–∏–∫—Ä–æ–∞–Ω–∏–º–∞—Ü–∏–∏, –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ hover-—ç—Ñ—Ñ–µ–∫—Ç—ã, –ø—Ä–æ–¥—É–º–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã
3. **–¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞** ‚Äî –∏–≥—Ä–∞ —Ä–∞–∑–º–µ—Ä–æ–≤, –≤–µ—Å–æ–≤, –Ω–µ–æ–±—ã—á–Ω—ã–µ –∞–∫—Ü–µ–Ω—Ç—ã
4. **–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ** ‚Äî –∞—Å–∏–º–º–µ—Ç—Ä–∏—è, –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å–µ—Ç–∫–∏, –≤–æ–∑–¥—É—Ö
5. **–¶–≤–µ—Ç** ‚Äî –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã, –æ–≤–µ—Ä–ª–µ–∏, –∏–≥—Ä–∞ —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é

### –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –¥–ª—è –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è
- Linear.app ‚Äî –∞–Ω–∏–º–∞—Ü–∏–∏, –≤–Ω–∏–º–∞–Ω–∏–µ –∫ –¥–µ—Ç–∞–ª—è–º
- Stripe ‚Äî —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞, —á–∏—Å—Ç–æ—Ç–∞
- Apple ‚Äî –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ, —Ñ–æ–∫—É—Å
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ñ–∏—Ç–Ω–µ—Å-—Å—Ç—É–¥–∏–π –ø—Ä–µ–º–∏—É–º-—Å–µ–≥–º–µ–Ω—Ç–∞

---

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –ü—Ä–∞–≤–∏–ª–æ: –§—É–Ω–∫—Ü–∏—è ‚Üí –¢–µ—Å—Ç—ã ‚Üí –ü—Ä–æ–≥–æ–Ω

–ö–∞–∂–¥–∞—è –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è —Ç–µ—Å—Ç–∞–º–∏:

```
1. –ù–∞–ø–∏—Å–∞–ª —Ñ—É–Ω–∫—Ü–∏—é/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç
2. –ù–∞–ø–∏—Å–∞–ª —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–µ—ë
3. –ü—Ä–æ–≥–Ω–∞–ª —Ç–µ—Å—Ç—ã
4. –í—Å–µ —Ç–µ—Å—Ç—ã –∑–µ–ª—ë–Ω—ã–µ ‚Üí –∫–æ–º–º–∏—Ç
5. –•–æ—Ç—è –±—ã –æ–¥–∏–Ω –∫—Ä–∞—Å–Ω—ã–π ‚Üí –∏—Å–ø—Ä–∞–≤–∏—Ç—å –¥–æ –∫–æ–º–º–∏—Ç–∞
```

### Backend —Ç–µ—Å—Ç—ã (pytest)
```python
# tests/test_bookings.py

async def test_create_booking_success(client, user, lesson):
    """–£—Å–ø–µ—à–Ω–∞—è –∑–∞–ø–∏—Å—å –Ω–∞ –∑–∞–Ω—è—Ç–∏–µ"""
    response = await client.post(
        "/api/bookings",
        json={"lesson_id": lesson.id},
        headers=auth_headers(user)
    )
    assert response.status_code == 201
    assert response.json()["lesson_id"] == lesson.id

async def test_create_booking_no_balance(client, user_no_balance, lesson):
    """–ù–µ–ª—å–∑—è –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –±–µ–∑ –±–∞–ª–∞–Ω—Å–∞"""
    response = await client.post(
        "/api/bookings",
        json={"lesson_id": lesson.id},
        headers=auth_headers(user_no_balance)
    )
    assert response.status_code == 400
    assert "balance" in response.json()["detail"].lower()

async def test_create_booking_lesson_full(client, user, full_lesson):
    """–ù–µ–ª—å–∑—è –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ"""
    response = await client.post(
        "/api/bookings",
        json={"lesson_id": full_lesson.id},
        headers=auth_headers(user)
    )
    assert response.status_code == 400
```

### Frontend —Ç–µ—Å—Ç—ã (Vitest + Testing Library)
```typescript
// src/components/LessonCard.test.tsx

describe('LessonCard', () => {
  it('shows book button when available', () => {
    render(<LessonCard lesson={availableLesson} />);
    expect(screen.getByRole('button', { name: /–∑–∞–ø–∏—Å–∞—Ç—å—Å—è/i })).toBeInTheDocument();
  });

  it('shows cancel button when already booked', () => {
    render(<LessonCard lesson={bookedLesson} isBooked />);
    expect(screen.getByRole('button', { name: /–æ—Ç–º–µ–Ω–∏—Ç—å/i })).toBeInTheDocument();
  });

  it('disables button when lesson is full', () => {
    render(<LessonCard lesson={fullLesson} />);
    expect(screen.getByRole('button')).toBeDisabled();
  });
});
```

### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- [ ] –í—Å–µ API endpoints
- [ ] –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- [ ] –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–∑–∞–ø–∏—Å—å, –æ–ø–ª–∞—Ç–∞, –±–∞–ª–∞–Ω—Å)
- [ ] –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ (–Ω–µ—Ç –±–∞–ª–∞–Ω—Å–∞, –∑–∞–Ω—è—Ç–∏–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ, –æ—Ç–º–µ–Ω–∞)
- [ ] –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Web App

### –ö–æ–º–∞–Ω–¥—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```bash
# Backend
cd backend
pytest                      # –≤—Å–µ —Ç–µ—Å—Ç—ã
pytest -v                   # –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥
pytest tests/test_bookings.py  # –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª
pytest -k "booking"         # –ø–æ –∏–º–µ–Ω–∏
pytest --cov=app            # —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º

# Frontend
cd frontend
npm run test                # –≤—Å–µ —Ç–µ—Å—Ç—ã
npm run test:watch          # watch mode
npm run test:coverage       # —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
```

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
- Backend: **80%+** –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- Frontend: **60%+** –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –¢–µ—Å—Ç—ã ‚Äî —ç—Ç–æ –Ω–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
**–ù–ï–õ–¨–ó–Ø** –º–µ—Ä–∂–∏—Ç—å –∫–æ–¥ –±–µ–∑ —Ç–µ—Å—Ç–æ–≤. –ö–∞–∂–¥—ã–π PR –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å:
- Unit-—Ç–µ—Å—Ç—ã –Ω–∞ –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É
- Integration-—Ç–µ—Å—Ç—ã –Ω–∞ API endpoints
- Component-—Ç–µ—Å—Ç—ã –Ω–∞ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å
1. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø—É—Ç—å:** –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è ‚Üí –æ–ø–ª–∞—Ç–∞ ‚Üí –∑–∞–ø–∏—Å—å
2. **–ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏:** –Ω–µ—Ç –±–∞–ª–∞–Ω—Å–∞, –∑–∞–Ω—è—Ç–∏–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ, –æ—Ç–º–µ–Ω–∞
3. **–û—à–∏–±–∫–∏:** —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∏ —Å–±–æ—è—Ö

---

## –°—Ç–µ–∫

### Frontend (Web App)
- **React 18** + TypeScript
- **Vite** ‚Äî —Å–±–æ—Ä–∫–∞
- **CSS Modules** ‚Äî —Å—Ç–∏–ª–∏ (–ù–ï Tailwind)
- **@twa-dev/sdk** ‚Äî Telegram Web App SDK
- **React Router** ‚Äî –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- **TanStack Query** ‚Äî –∑–∞–ø—Ä–æ—Å—ã –∫ API
- **Zustand** ‚Äî —Å—Ç–µ–π—Ç-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç
- **Framer Motion** ‚Äî –∞–Ω–∏–º–∞—Ü–∏–∏

### Backend
- **Python 3.11+**
- **FastAPI** ‚Äî API
- **SQLAlchemy** ‚Äî ORM
- **PostgreSQL** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Redis** ‚Äî –∫—ç—à, –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á
- **Celery** ‚Äî —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
- **aiogram 3.x** ‚Äî Telegram Bot

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **Docker** + Docker Compose
- **Nginx** ‚Äî reverse proxy
- **Let's Encrypt** ‚Äî SSL

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
dancemax/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lessons.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bookings.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ payments.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ directions.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ teachers.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ admin.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ deps.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ security.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ telegram.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lesson.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ booking.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ direction.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ teacher.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ transaction.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ booking.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ payment.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ notification.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.py
‚îÇ   ‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ keyboards/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middlewares/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.py
‚îÇ   ‚îú‚îÄ‚îÄ alembic/
‚îÇ   ‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/           # –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout/       # Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ features/     # –§–∏—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Home/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Home.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Home.module.css
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Schedule/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Schedule.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Schedule.module.css
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Lesson/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Directions/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Direction/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Teachers/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Teacher/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Courses/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Course/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Profile/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Payment/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ About/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ store/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ styles/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ variables.css   # CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (—Ç–æ–∫–µ–Ω—ã)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ animations.css  # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ typography.css  # –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ globals.css     # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.tsx
‚îÇ   ‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ vite.config.ts
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ admin/                    # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–æ—Ç–¥–µ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ CLAUDE.md
‚îî‚îÄ‚îÄ MEGAPROMPT.md
```

## –î–∏–∑–∞–π–Ω-—Ç–æ–∫–µ–Ω—ã

### –¶–≤–µ—Ç–∞
```css
:root {
  --color-primary: #FF5C35;
  --color-primary-light: #FF7A5C;
  --color-secondary: #1A1A1A;
  --color-background: #FAFAFA;
  --color-surface: #FFFFFF;
  --color-gray-100: #F5F5F5;
  --color-gray-200: #E5E5E5;
  --color-gray-400: #A3A3A3;
  --color-gray-600: #525252;
  --color-text: #0A0A0A;
  --color-text-secondary: #525252;
  --color-success: #22C55E;
  --color-error: #EF4444;
}
```

### CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (variables.css)
```css
:root {
  /* –¶–≤–µ—Ç–∞ */
  --color-primary: #FF5C35;
  --color-primary-light: #FF7A5C;
  --color-primary-dark: #E5472A;
  --color-secondary: #1A1A1A;
  --color-background: #FAFAFA;
  --color-surface: #FFFFFF;
  --color-gray-100: #F5F5F5;
  --color-gray-200: #E5E5E5;
  --color-gray-400: #A3A3A3;
  --color-gray-600: #525252;
  --color-text: #0A0A0A;
  --color-text-secondary: #525252;
  --color-success: #22C55E;
  --color-error: #EF4444;

  /* –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ */
  --font-display: 'Unbounded', sans-serif;
  --font-body: 'Inter', system-ui, sans-serif;

  /* –†–∞–∑–º–µ—Ä—ã */
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 24px;

  /* –¢–µ–Ω–∏ */
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.04);
  --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.08);
  --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.12);

  /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
  --transition-fast: 150ms ease;
  --transition-normal: 250ms ease;
  --transition-slow: 400ms ease;
  --transition-spring: 500ms cubic-bezier(0.34, 1.56, 0.64, 1);
}
```

### –ü—Ä–∏–º–µ—Ä CSS Module
```css
/* Button.module.css */
.button {
  background-color: var(--color-primary);
  color: white;
  padding: 12px 24px;
  border-radius: var(--radius-md);
  font-family: var(--font-body);
  font-weight: 600;
  border: none;
  cursor: pointer;
  transition: all var(--transition-normal);
}

.button:hover {
  background-color: var(--color-primary-light);
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.button:active {
  transform: translateY(0);
}

.buttonLarge {
  padding: 16px 32px;
  font-size: 18px;
}
```

```tsx
// Button.tsx
import styles from './Button.module.css';

export const Button = ({ size = 'md', children }) => (
  <button className={`${styles.button} ${size === 'lg' ? styles.buttonLarge : ''}`}>
    {children}
  </button>
);
```

## –ö–æ–º–∞–Ω–¥—ã

### Backend
```bash
cd backend

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫ API
uvicorn app.main:app --reload --port 8000

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
python -m bot.main

# –ú–∏–≥—Ä–∞—Ü–∏–∏
alembic upgrade head
alembic revision --autogenerate -m "description"

# –¢–µ—Å—Ç—ã
pytest
```

### Frontend
```bash
cd frontend

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
npm install

# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev

# –°–±–æ—Ä–∫–∞
npm run build

# –õ–∏–Ω—Ç–∏–Ω–≥
npm run lint
```

### Docker
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ
docker-compose up -d

# –õ–æ–≥–∏
docker-compose logs -f

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker-compose up -d --build
```

## API Endpoints

### Auth
```
POST /api/auth/telegram    # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram
GET  /api/auth/me          # –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
```

### Users
```
GET  /api/users/profile    # –ü—Ä–æ—Ñ–∏–ª—å
GET  /api/users/balance    # –ë–∞–ª–∞–Ω—Å
GET  /api/users/history    # –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
```

### Lessons
```
GET  /api/lessons          # –°–ø–∏—Å–æ–∫ –∑–∞–Ω—è—Ç–∏–π (—Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏)
GET  /api/lessons/:id      # –î–µ—Ç–∞–ª–∏ –∑–∞–Ω—è—Ç–∏—è
GET  /api/lessons/today    # –ó–∞–Ω—è—Ç–∏—è –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
```

### Bookings
```
POST /api/bookings         # –ó–∞–ø–∏—Å–∞—Ç—å—Å—è
DELETE /api/bookings/:id   # –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–ø–∏—Å—å
GET  /api/bookings/my      # –ú–æ–∏ –∑–∞–ø–∏—Å–∏
```

### Payments
```
GET  /api/payments/plans   # –ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã
POST /api/payments/create  # –°–æ–∑–¥–∞—Ç—å –ø–ª–∞—Ç—ë–∂
POST /api/payments/webhook # –í–µ–±—Ö—É–∫ –æ—Ç –ø–ª–∞—Ç—ë–∂–∫–∏
```

### Content
```
GET  /api/directions       # –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
GET  /api/directions/:id   # –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
GET  /api/teachers         # –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏
GET  /api/teachers/:id     # –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å
GET  /api/courses          # –°–ø–µ—Ü–∫—É—Ä—Å—ã
GET  /api/courses/:id      # –°–ø–µ—Ü–∫—É—Ä—Å
GET  /api/promos           # –ê–∫—Ü–∏–∏
```

### Admin
```
# –í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º
# –†–∞—Å—Å—ã–ª–∫–∏
# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```

## –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### User
```python
class User(Base):
    id: int
    telegram_id: int (unique)
    username: str | None
    first_name: str
    last_name: str | None
    phone: str | None
    balance: int = 0  # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–Ω—è—Ç–∏–π
    created_at: datetime
    updated_at: datetime
```

### Lesson
```python
class Lesson(Base):
    id: int
    direction_id: int (FK)
    teacher_id: int (FK)
    datetime: datetime
    duration_minutes: int = 60
    max_students: int | None
    level: str  # beginner, intermediate, advanced
    status: str  # scheduled, cancelled, completed
    created_at: datetime
```

### Booking
```python
class Booking(Base):
    id: int
    user_id: int (FK)
    lesson_id: int (FK)
    status: str  # active, cancelled, attended, missed
    created_at: datetime
```

### Direction
```python
class Direction(Base):
    id: int
    name: str
    slug: str (unique)
    description: str
    icon: str  # –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∫–æ–Ω–∫–∏ –∏–∑ Lucide (–Ω–∞–ø—Ä–∏–º–µ—Ä: "flame", "heart", "moon")
    image_url: str | None
    sort_order: int
    is_active: bool = True
```

### Teacher
```python
class Teacher(Base):
    id: int
    name: str
    slug: str (unique)
    bio: str
    photo_url: str | None
    experience_years: int
    is_active: bool = True
    
    directions: list[Direction]  # M2M
```

### Transaction
```python
class Transaction(Base):
    id: int
    user_id: int (FK)
    type: str  # payment, lesson, refund, manual, bonus
    amount: int  # +/- –∑–∞–Ω—è—Ç–∏–π
    description: str
    payment_id: str | None  # ID –∏–∑ –ø–ª–∞—Ç—ë–∂–∫–∏
    created_at: datetime
```

## –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ö–æ–¥
- TypeScript strict mode
- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚Äî —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ (React FC)
- –•—É–∫–∏ –¥–ª—è –ª–æ–≥–∏–∫–∏, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è UI
- –ù–∏–∫–∞–∫–∏—Ö `any` ‚Äî –≤—Å–µ–≥–¥–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: PascalCase (`LessonCard.tsx`)
- –•—É–∫–∏: camelCase —Å use (`useBooking.ts`)
- –£—Ç–∏–ª–∏—Ç—ã: camelCase (`formatDate.ts`)
- API —Ä–æ—É—Ç—ã: snake_case (`/api/lessons/by_date`)
- CSS –∫–ª–∞—Å—Å—ã: kebab-case —á–µ—Ä–µ–∑ Tailwind

### Git
- –í–µ—Ç–∫–∏: `feature/`, `fix/`, `refactor/`
- –ö–æ–º–º–∏—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º: "–î–æ–±–∞–≤–∏–ª —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è"
- PR –ø–µ—Ä–µ–¥ –º–µ—Ä–∂–µ–º –≤ main

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI
–í—Å–µ –±–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ `components/ui/`:
- Button
- Card
- Input
- Modal
- Tabs
- Badge
- Avatar
- Skeleton
- Toast

## Telegram Web App

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```typescript
import WebApp from '@twa-dev/sdk';

// –í App.tsx
useEffect(() => {
  WebApp.ready();
  WebApp.expand();
  
  // –¢–µ–º–∞ –∏–∑ Telegram
  document.documentElement.style.setProperty(
    '--tg-theme-bg-color',
    WebApp.themeParams.bg_color || '#FAFAFA'
  );
}, []);
```

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
```typescript
// –ü–æ–ª—É—á–∞–µ–º initData –æ—Ç Telegram
const initData = WebApp.initData;

// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –±—ç–∫–µ–Ω–¥ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
const { user, token } = await api.auth.telegram(initData);
```

### –ü–ª–∞—Ç–µ–∂–∏
```typescript
// Telegram Payments
WebApp.openInvoice(invoiceUrl, (status) => {
  if (status === 'paid') {
    // –£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞
  }
});
```

### Haptic Feedback
```typescript
// –í–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –¥–µ–π—Å—Ç–≤–∏—è—Ö
WebApp.HapticFeedback.impactOccurred('light');
WebApp.HapticFeedback.notificationOccurred('success');
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
# Backend
DATABASE_URL=postgresql://user:pass@localhost:5432/dancemax
REDIS_URL=redis://localhost:6379
SECRET_KEY=your-secret-key
TELEGRAM_BOT_TOKEN=123456:ABC-DEF
TELEGRAM_WEBAPP_URL=https://app.dancemax.ru
PAYMENT_PROVIDER_TOKEN=...

# Frontend
VITE_API_URL=https://api.dancemax.ru
VITE_BOT_USERNAME=DanceMaxBot
```

## –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ TypeScript
- [ ] –ù–µ—Ç console.log –≤ –ø—Ä–æ–¥–∞–∫—à–Ω –∫–æ–¥–µ
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] –ë—ç–∫–∞–ø—ã –ë–î –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –í–µ–±—Ö—É–∫–∏ –ø–ª–∞—Ç—ë–∂–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
